<!DOCTYPE html>
<html>
    <head>
        <title>The Guess-the-Number game</title>
    </head>
    <body>
        <h1>Guess the Number Game</h1>
        <p>Guess a number between 1 and 10:</p>
        <input type="number" id="guess"/>
        <button onclick="checkGuess()">Guess!</button>
        <button onclick="restartGame()">Restart Game</button>

        <p id="message"></p>

        <script>
            let secretNumber;
            let attempts;

            function startGame() {
                secretNumber = Math.floor(Math.random() * 10) + 1;
                attempts = 3;
                document.getElementById("message").textContent = "Game started! You have 3 attempts.";
                document.getElementById("guess").value = "";
            }

            function checkGuess() {
                const userGuess = Number(document.getElementById("guess").value);
                const message = document.getElementById("message");
                if (attempts <= 0) {
                    message.textContent = "GAME OVER! REFRESH to try again.";
                    return;
                }

                attempts--; // reduce attempts by 1

                if (userGuess === secretNumber) {
                    message.textContent = "Correct ! You guess it !";
                    attempts = 0
                }
                else if (userGuess < secretNumber) {
                    message.textContent = `Too low! ${attempts} attempts left`;
                } else {
                    message.textContent = `Too high! ${attempts} attempts left`;
                }

                if (attempts == 0 && userGuess !== secretNumber) {
                    message.textContent = "Game Over! The number was ${secretNumber}";
                }
            }

            function restartGame() {
                startGame();
            }

            startGame(); // start game automatically when page loads
        </script>
    </body>
</html>